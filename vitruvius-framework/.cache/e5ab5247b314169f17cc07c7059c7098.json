{"dependencies":[],"generated":{"js":"jQuery(document).ready(function($){\n\t//set animation timing\n\tvar animationDelay = 2500,\n\t\t//loading bar effect\n\t\tbarAnimationDelay = 3800,\n\t\tbarWaiting = barAnimationDelay - 3000, //3000 is the duration of the transition on the loading bar - set in the scss/css file\n\t\t//letters effect\n\t\tlettersDelay = 50,\n\t\t//type effect\n\t\ttypeLettersDelay = 150,\n\t\tselectionDuration = 500,\n\t\ttypeAnimationDelay = selectionDuration + 800,\n\t\t//clip effect\n\t\trevealDuration = 600,\n\t\trevealAnimationDelay = 3500;\n\n\tinitHeadline();\n\n\n\tfunction initHeadline() {\n\t\t//insert <i> element for each letter of a changing word\n\t\tsingleLetters($('.cd-headline.letters').find('b'));\n\t\t//initialise headline animation\n\t\tanimateHeadline($('.cd-headline'));\n\t}\n\n\tfunction singleLetters($words) {\n\t\t$words.each(function(){\n\t\t\tvar word = $(this),\n\t\t\t\tletters = word.text().split(''),\n\t\t\t\tselected = word.hasClass('is-visible');\n\t\t\tfor (i in letters) {\n\t\t\t\tif(word.parents('.rotate-2').length > 0) letters[i] = '<em>' + letters[i] + '</em>';\n\t\t\t\tletters[i] = (selected) ? '<i class=\"in\">' + letters[i] + '</i>': '<i>' + letters[i] + '</i>';\n\t\t\t}\n\t\t    var newLetters = letters.join('');\n\t\t    word.html(newLetters).css('opacity', 1);\n\t\t});\n\t}\n\n\tfunction animateHeadline($headlines) {\n\t\tvar duration = animationDelay;\n\t\t$headlines.each(function(){\n\t\t\tvar headline = $(this);\n\n\t\t\tif(headline.hasClass('loading-bar')) {\n\t\t\t\tduration = barAnimationDelay;\n\t\t\t\tsetTimeout(function(){ headline.find('.cd-words-wrapper').addClass('is-loading') }, barWaiting);\n\t\t\t} else if (headline.hasClass('clip')){\n\t\t\t\tvar spanWrapper = headline.find('.cd-words-wrapper'),\n\t\t\t\t\tnewWidth = spanWrapper.width() + 10\n\t\t\t\tspanWrapper.css('width', newWidth);\n\t\t\t} else if (!headline.hasClass('type') ) {\n\t\t\t\t//assign to .cd-words-wrapper the width of its longest word\n\t\t\t\tvar words = headline.find('.cd-words-wrapper b'),\n\t\t\t\t\twidth = 0;\n\t\t\t\twords.each(function(){\n\t\t\t\t\tvar wordWidth = $(this).width();\n\t\t\t\t    if (wordWidth > width) width = wordWidth;\n\t\t\t\t});\n\t\t\t\theadline.find('.cd-words-wrapper').css('width', width);\n\t\t\t};\n\n\t\t\t//trigger animation\n\t\t\tsetTimeout(function(){ hideWord( headline.find('.is-visible').eq(0) ) }, duration);\n\t\t});\n\t}\n\n\tfunction hideWord($word) {\n\t\tvar nextWord = takeNext($word);\n\n\t\tif($word.parents('.cd-headline').hasClass('type')) {\n\t\t\tvar parentSpan = $word.parent('.cd-words-wrapper');\n\t\t\tparentSpan.addClass('selected').removeClass('waiting');\n\t\t\tsetTimeout(function(){\n\t\t\t\tparentSpan.removeClass('selected');\n\t\t\t\t$word.removeClass('is-visible').addClass('is-hidden').children('i').removeClass('in').addClass('out');\n\t\t\t}, selectionDuration);\n\t\t\tsetTimeout(function(){ showWord(nextWord, typeLettersDelay) }, typeAnimationDelay);\n\n\t\t} else if($word.parents('.cd-headline').hasClass('letters')) {\n\t\t\tvar bool = ($word.children('i').length >= nextWord.children('i').length) ? true : false;\n\t\t\thideLetter($word.find('i').eq(0), $word, bool, lettersDelay);\n\t\t\tshowLetter(nextWord.find('i').eq(0), nextWord, bool, lettersDelay);\n\n\t\t}  else if($word.parents('.cd-headline').hasClass('clip')) {\n\t\t\t$word.parents('.cd-words-wrapper').animate({ width : '2px' }, revealDuration, function(){\n\t\t\t\tswitchWord($word, nextWord);\n\t\t\t\tshowWord(nextWord);\n\t\t\t});\n\n\t\t} else if ($word.parents('.cd-headline').hasClass('loading-bar')){\n\t\t\t$word.parents('.cd-words-wrapper').removeClass('is-loading');\n\t\t\tswitchWord($word, nextWord);\n\t\t\tsetTimeout(function(){ hideWord(nextWord) }, barAnimationDelay);\n\t\t\tsetTimeout(function(){ $word.parents('.cd-words-wrapper').addClass('is-loading') }, barWaiting);\n\n\t\t} else {\n\t\t\tswitchWord($word, nextWord);\n\t\t\tsetTimeout(function(){ hideWord(nextWord) }, animationDelay);\n\t\t}\n\t}\n\n\tfunction showWord($word, $duration) {\n\t\tif($word.parents('.cd-headline').hasClass('type')) {\n\t\t\tshowLetter($word.find('i').eq(0), $word, false, $duration);\n\t\t\t$word.addClass('is-visible').removeClass('is-hidden');\n\n\t\t}  else if($word.parents('.cd-headline').hasClass('clip')) {\n\t\t\t$word.parents('.cd-words-wrapper').animate({ 'width' : $word.width() + 10 }, revealDuration, function(){\n\t\t\t\tsetTimeout(function(){ hideWord($word) }, revealAnimationDelay);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction hideLetter($letter, $word, $bool, $duration) {\n\t\t$letter.removeClass('in').addClass('out');\n\n\t\tif(!$letter.is(':last-child')) {\n\t\t \tsetTimeout(function(){ hideLetter($letter.next(), $word, $bool, $duration); }, $duration);\n\t\t} else if($bool) {\n\t\t \tsetTimeout(function(){ hideWord(takeNext($word)) }, animationDelay);\n\t\t}\n\n\t\tif($letter.is(':last-child') && $('html').hasClass('no-csstransitions')) {\n\t\t\tvar nextWord = takeNext($word);\n\t\t\tswitchWord($word, nextWord);\n\t\t}\n\t}\n\n\tfunction showLetter($letter, $word, $bool, $duration) {\n\t\t$letter.addClass('in').removeClass('out');\n\n\t\tif(!$letter.is(':last-child')) {\n\t\t\tsetTimeout(function(){ showLetter($letter.next(), $word, $bool, $duration); }, $duration);\n\t\t} else {\n\t\t\tif($word.parents('.cd-headline').hasClass('type')) { setTimeout(function(){ $word.parents('.cd-words-wrapper').addClass('waiting'); }, 200);}\n\t\t\tif(!$bool) { setTimeout(function(){ hideWord($word) }, animationDelay) }\n\t\t}\n\t}\n\n\tfunction takeNext($word) {\n\t\treturn (!$word.is(':last-child')) ? $word.next() : $word.parent().children().eq(0);\n\t}\n\n\tfunction takePrev($word) {\n\t\treturn (!$word.is(':first-child')) ? $word.prev() : $word.parent().children().last();\n\t}\n\n\tfunction switchWord($oldWord, $newWord) {\n\t\t$oldWord.removeClass('is-visible').addClass('is-hidden');\n\t\t$newWord.removeClass('is-hidden').addClass('is-visible');\n\t}\n});\n"},"hash":"b9ccc1209a655cdf818b94725b2ec67b"}